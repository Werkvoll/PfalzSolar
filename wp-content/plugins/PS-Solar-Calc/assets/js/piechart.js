function pieChart(t,e,a,r){function n(){d3.selectAll(".pie_slices").transition().ease("back").duration(500).delay(0).style("opacity",0).attr("transform","translate(0, 250)").remove(),d3.selectAll(".pie_lines").transition().ease("back").duration(500).delay(100).style("opacity",0).attr("transform","translate(0, 250)").remove(),d3.selectAll(".pie_labels").transition().ease("back").duration(500).delay(200).style("opacity",0).attr("transform","translate(0, 250)").remove(),jQuery("svg.pieChart").remove().delay(2500),setTimeout(v,2500)}t=parseInt(t),e=parseInt(e),a=parseInt(a);var i=[t/e,t/a],s=["#ffc211","orange","#9e0142","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],o=[a.toString()+"€",e.toString()+"€","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],l=document.querySelector(".chart-wrapper").offsetWidth,c=document.querySelector(".chart-wrapper").offsetHeight,d=(Math.min(l,c)/2,300),p=150,u=3e3,f=1e3,y=150,h=void 0;h=.6*c;var v=function(){var t=d3.select(".chart-wrapper").append("svg").attr({width:l,height:c,"class":"pieChart"}).append("g");t.attr({transform:"translate("+l/2+", "+c/2+")"});var e=d3.svg.arc().outerRadius(.65*h).innerRadius(.45*h),a=d3.svg.arc().innerRadius(1*h).outerRadius(1*h),r=d3.layout.pie().value(function(t){return t});t.append("g").attr("class","pie_lines"),t.append("g").attr("class","pie_slices"),t.append("g").attr("class","pie_labels");var n=t.select(".pie_slices").datum(i).selectAll("path").data(r);n.enter().append("path").attr({fill:function(t,e){return s[e]},d:e,"stroke-width":"25px"}).attr("transform",function(t,e){return"rotate(-180, 0, 0)"}).style("opacity",0).transition().delay(function(t,e){return e*p+d}).duration(u).ease("elastic").style("opacity",1).attr("transform","rotate(0,0,0)"),n.transition().delay(function(t,e){return u+e*y}).duration(f).attr("stroke-width","5px");var v=function(t){return t.startAngle+(t.endAngle-t.startAngle)/2},m=t.select(".pie_labels").selectAll("text").data(r(i));m.enter().append("text").attr("dy","0.35em").style("opacity",0).style("fill",function(t,e){return s[e]}).text(function(t,e){return o[e]}).attr("transform",function(t){var e=a.centroid(t);return e[0]=h*(v(t)<Math.PI?1:-1),"translate("+e+")"}).style("text-anchor",function(t){return v(t)<Math.PI?"start":"end"}).transition().delay(function(t,e){return u+e*y}).duration(f).style("opacity",1);var g=t.select(".pie_lines").selectAll("polyline").data(r(i));g.enter().append("polyline").style("opacity",.5).attr("points",function(t){var r=a.centroid(t);return r[0]=.95*h*(v(t)<Math.PI?1:-1),[e.centroid(t),e.centroid(t),e.centroid(t)]}).transition().duration(f).delay(function(t,e){return u+e*y}).attr("points",function(t){var r=a.centroid(t);return r[0]=.95*h*(v(t)<Math.PI?1:-1),[e.centroid(t),a.centroid(t),r]})};0==r?v():n()}